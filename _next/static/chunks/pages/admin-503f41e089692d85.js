(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return c(9839)}])},9839:function(c,b,a){"use strict";a.r(b),a.d(b,{default:function(){return F}});var d=a(1799),e=a(9396),f=a(828),g=a(5893),h=a(949),i=a(7375),j=a(8527),k=a(7962),l=a(7290),m=a(4672);a(28),a(2344);var n=a(1961),o=a(6455);a(7911);var p=a(8364);a(3897);var q=a(7294),r=a(1163),s=a(9860),t=a(3363);a(3077),a(8375);var u=a(4312),v=a(4045);a(3598),a(5452);var w=a(5304);a(9669);var x=a(3861),y=a(1302),z=a(614),A=a(2028),B=a(2035),C=a(3296);a(7281);var D=a(8997),E=function(){return"https://thispersondoesnotexist.com/image?rand=".concat(Math.random())};function F(){(0,h.ff)(null===u.Z|| void 0===u.Z?void 0:null===(ak=u.Z.colors)|| void 0===ak?void 0:null===(al=ak.colorAccent)|| void 0===al?void 0:al.light,null===u.Z|| void 0===u.Z?void 0:null===(am=u.Z.colors)|| void 0===am?void 0:null===(an=am.colorAccent)|| void 0===an?void 0:an.dark),(0,h.ff)("linkHover.light","linkHover.dark");var ak,al,am,an,o=(0,i.qY)(),$=o.isOpen,ao=o.onClose,ap=(o.onOpen,(0,r.useRouter)()),b=(0,t.f2)(),_=(b.db,b.user),aq=(b.auth,b.authLoading);b.setUser;var K=(0,q.useState)(!0),aa=K[0],ar=K[1],L=(0,q.useState)(""),as=L[0],at=L[1],M=(0,q.useState)(!1),au=(M[0],M[1]),N=(0,q.useState)(""),av=(N[0],N[1]),O=(0,q.useState)(),P=O[0],aw=O[1],c=(0,f.Z)((0,x.Z)(2),5),ab=(c[0],c[1]);c[2],c[3],c[4];var F=(0,y.Z)(),ac=F.potBalance,ad=F.potBalancePending,ax=F.potBalanceError;(0,q.useEffect)(function(){console.log("NewState.potBalance",ac,ad,ax)},[ad]);var Q=(0,q.useState)(),ae=Q[0],ay=Q[1],G=(0,z.Z)(),a=G.workerInfo,az=G.workerInfoPending,aA=G.workerInfoError;(0,q.useEffect)(function(){console.log("NewState.workerInfo",a,az,aA),a&&ay(a.ref_earnings-a.ref_earnings_withdrawn-a.amount_processing)},[a]);var H=(0,A.Z)(null==a?void 0:a.payment_details),R=H.refWithdrawals,I=H.refWithdrawalsPending,S=H.refWithdrawalsError;(0,q.useEffect)(function(){console.log("NewState.refWithdrawals",R,I,S)},[I]);var J=(0,B.ZP)(),T=J.classWithdrawals,af=J.classWithdrawalsPending,ag=J.classWithdrawalsError,U=(0,q.useState)(0),ah=U[0],aB=U[1],V=(0,q.useState)(0),aC=(V[0],V[1]),W=(0,q.useState)(),aD=(W[0],W[1]);(0,q.useEffect)(function(){if(console.log("NewState.classWithdrawals",T,af,ag),!af&&!ag&&ac&&T.length>0){var a,b,c=0,f=0;T.forEach(function(b){b.data().potBalanceTarget<ac&&[n.R$.pending,n.R$.failed].includes(b.data().payment_status)?c+=b.data().salary:b.data().payment_status==n.R$.pending&&(a=b.data(),f++)}),a&&aD((0,e.Z)((0,d.Z)({},a),{wage_per_job:null===(b=n.Nb[a.activation_price])|| void 0===b?void 0:b.earningPerPhoto})),aB(c),aC(f),console.log("NewState.classWithdrawals.activeBlocks",c,"pending:",f,"lastWithdrawal",a)}},[T,ac]),(0,q.useEffect)(function(){console.log("NewState.classWithdrawals.count",ah)},[ah]);var X=(0,q.useState)(),ai=X[0],aE=X[1],Y=(0,q.useState)(),aF=(Y[0],Y[1]),Z=(0,q.useState)(),aj=Z[0];return Z[1],(0,q.useEffect)(function(){aq||_?_&&(ar(!1),as?console.log("User.withdraw.requestPayment.UZER:",_):at(E())):ap.replace("/sign-in")},[_]),(0,g.jsxs)(l.Z,{link:"/",title:n.jG,description:n.kr,image:null,updatedTime:null,loading:aa,children:[(0,g.jsx)(m.Z,{bg:"url(/assets/images/banner/bg.png)",_before:{pos:"absolute",content:"''",w:"100%",h:"100%",left:0,right:0,top:0,bg:(0,h.ff)("navbarBg.light","navbarBg.dark"),opacity:.9},p:{base:"20px 0 25px",md:"25px 0 25px"},children:(0,g.jsx)(j.xu,{overflow:"hidden !important",w:"100%",h:"100%",left:"0",right:"0",bottom:"-3",children:(0,g.jsx)(j.xu,{pos:"absolute",bottom:"3px",w:"100%",children:(0,g.jsx)(p.Z,{alignSelf:"center",flexShrink:"0",colorLight:"#08060B",colorDark:"#08060B"})})})}),(0,g.jsxs)(m.Z,{bg:"#08060B",mt:"-5px",children:[(0,g.jsx)(j.xu,{overflow:"hidden",pos:"absolute",w:"100%",h:"100%",right:"0px",top:"0px",children:(0,g.jsx)(j.xu,{pos:"absolute",d:"flex",w:"100%",top:"0px",fill:"#D8CBED",children:(0,g.jsx)(s.Z,{w:"150%",h:"100%",maxH:"48px",alignSelf:"center",flexShrink:"0",fill:"rgb(8, 6, 11)"})})}),(0,g.jsx)(k.Z,{minH:"700px",children:(0,g.jsx)(C.Z,{paymentBlocksTitle:"Confirm Payments",paymentBlocks:T,paymentBlocksError:ag,paymentBlocksLoading:af,onRetryClassPay:function(){},refWithdrawalsTitle:"Transfer Ref Earnings",refWithdrawals:R,refWithdrawalsPending:I,refWithdrawalsError:S,onRetryRefPay:function(){},taskWithdrawalsTitle:"Transfer Tasks Earnings",taskWithdrawals:R,taskWithdrawalsPending:I,taskWithdrawalsError:S,onTaskRetryRefPay:function(){}})})]}),(0,g.jsx)(w.Z,{msg:P,isOpen:!(0,v.N4)(P),onClose:function(){return aw(null)},allowOutsideClick:!0}),(0,g.jsx)(D.Z,{isOpen:$,onClose:function(){ao(),aE(!1),aF(!1)},amount:ai?ae:ab,bankName:a.bankName,accountName:a.accountName,accountNumber:a.accountNumber,canWithdraw:aj})]})}}},function(a){a.O(0,[571,76,431,387,669,236,910,663,15,997,774,888,179],function(){var b;return a(a.s=4730)}),_N_E=a.O()}])