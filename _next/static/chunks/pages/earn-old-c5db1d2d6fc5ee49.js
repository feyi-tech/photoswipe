(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{2296:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn-old",function(){return c(877)}])},877:function(e,b,a){"use strict";a.r(b),a.d(b,{default:function(){return Z}});var f=a(1799),g=a(9396),h=a(828),i=a(5893),j=a(8527),k=a(949),l=a(7375),m=a(4651),n=a(7962),o=a(7290),p=a(4672),q=a(28),r=a(2344),s=a(1961),c=a(6455),t=a.n(c),u=a(7911),v=a(8364),w=a(3897),x=a(7294),y=a(1163),z=a(6502),A=a(3363),B=a(3077),C=a(8375),D=a(4312),E=a(4045),F=a(3598),G=a(5452),H=a(5304),I="https://ey3a2tnxyk5ad7gyzayqrtcxhq0arfgk.lambda-url.eu-west-2.on.aws",J=function(c){var a,b,d=c.msg||c.error;switch(d){case"no_earnings":a="info",b="You currently have no earnings available for withdrawal.";break;case"earnings_sent":c.total_sent>0?(a="success",b="Your earnings has been sent to your bank."):(a="error",b="An error occurred while trying to send payment. Check the withdrawals history below to check and fix the error.");break;case"failed":a="error",b="An error occurred while trying to execute the transaction. Try again later. If problem persists, report it to us.";break;case"invalid_payment_id":a="error",b="The payment request is invalid.";break;case"already_paid":a="info",b="The payment was already sent.";break;case"already_processing":a="info",b="Your payment request is already being processed. Please be patient.";break;case"token_too_old":a="info",b="Login too old. Sign out and sign in again.";break;case"rate_limit":a="info",b="\n            Our system has detected possible spamming from your end. Please try again after \n            ".concat(c.time," ").concat(parseInt(c.time)>1?"minutes":"minute",".\n            ");break;default:a="info",b="Request sent."}return{icon:a,text:b}},d=a(9669),K=a.n(d),L=a(3861),M=a(1302),N=a(614),O=a(943),P=a(3375),Q=a(1566);a(5321);var R=a(2035),S=a(7233),T=a(316),U=a(7281),V=function(a){var b=a.isLoading,c=a.animColor;return(0,i.jsxs)(j.gC,{width:"100%",h:"200px",borderRadius:"15px",border:"1px solid #fff",justifyContent:"center",alignItems:"center",display:b?"flex":"none",children:[(0,i.jsx)(j.xv,{as:"div",fontStyle:"italic",fontSize:"14px",children:"Loading next photo..."}),(0,i.jsx)(C.Z,{style:{display:"inline !important"},width:"50px",height:"50px",color:c,type:C.Z.TYPES.grid})]})},W=function(a){var b=a.error,c=a.onReload;return(0,i.jsxs)(j.gC,{width:"100%",h:"auto",borderRadius:"15px",border:"1px solid #fff",p:"15px",justifyContent:"center",alignItems:"center",display:(0,E.N4)(b)?"none":"flex",children:[(0,i.jsx)(j.xv,{as:"div",fontSize:"14px",children:b}),(0,i.jsx)(r.Z,{onClick:c,children:"Reload"})]})},X=function(a){var b,d=a.show,e=a.isNew,c=(0,k.ff)("linkHover.light","linkHover.dark");return b=e?'You haven\'t activated any photo yet. Click the "Activate" button to get photos to classify.':(0,i.jsxs)(j.xu,{children:[(0,i.jsx)(j.xu,{mb:"0.2rem",children:'No photos left to classify. Activate another set of photos to continue classification. Click the "Activate Photos" button to get photos to classify.'}),(0,i.jsx)(j.xu,{color:c,mb:"0.2rem",children:(0,i.jsx)("b",{children:"Note 1: If you're yet to have the previous photos classified earnings available for withdrawal, check back often. Classification earnings are available for withdrawal between 3days and a month after the classifications of a set of photos activated."})}),(0,i.jsx)(j.xu,{color:c,children:(0,i.jsx)("b",{children:"Note 2: Your referral earnings can be withdrawn anytime you wish."})})]}),(0,i.jsxs)(j.gC,{width:"100%",h:"auto",borderRadius:"15px",border:"1px solid #fff",p:"15px",justifyContent:"center",alignItems:"center",display:d?"flex":"none",children:[(0,i.jsx)(j.xv,{as:"div",fontSize:"16px",textAlign:"center",children:b}),(0,i.jsx)(r.Z,{as:u.Z,href:"/photos",children:"Activate Photos"})]})},Y=function(){return"https://thispersondoesnotexist.com/image?rand=".concat(Math.random())};function Z(){var u,C,Z,$,aQ=(0,k.ff)(null===D.Z|| void 0===D.Z?void 0:null===(u=D.Z.colors)|| void 0===u?void 0:null===(C=u.colorAccent)|| void 0===C?void 0:C.light,null===D.Z|| void 0===D.Z?void 0:null===(Z=D.Z.colors)|| void 0===Z?void 0:null===($=Z.colorAccent)|| void 0===$?void 0:$.dark),aR=(0,k.ff)("linkHover.light","linkHover.dark"),_=(0,l.qY)(),aS=_.isOpen,aT=_.onClose,a8=_.onOpen,a9=(0,y.useRouter)(),a=(0,A.f2)(),aU=(a.db,a.user),ba=a.auth,bb=a.authLoading,bc=a.setUser,ao=(0,x.useState)(!0),aV=ao[0],bd=ao[1],ap=(0,x.useState)(""),aW=ap[0],be=ap[1],aq=(0,x.useState)(!1),aa=aq[0],bf=aq[1],ar=(0,x.useState)(""),ab=ar[0],bg=ar[1],as=(0,x.useState)(),at=as[0],bh=as[1],au=(0,x.useState)(),bi=au[0],bj=au[1],av=(0,x.useState)(),bk=av[0],bl=av[1],b=(0,h.Z)((0,L.Z)(2),5),c=b[0],aw=b[1],bm=b[2];b[3],b[4];var ac=(0,M.Z)(),aX=ac.potBalance,aY=ac.potBalancePending,bn=ac.potBalanceError;(0,x.useEffect)(function(){console.log("NewState.potBalance",aX,aY,bn)},[aY]);var ax,ay,ad,ae,af,ag,az,aZ,ah,aA,a$,ai,aB,aC,aj,aD=(0,x.useState)(),aE=aD[0],bo=aD[1],ak=(0,N.Z)(),d=ak.workerInfo,a_=ak.workerInfoPending,a0=ak.workerInfoError;(0,x.useEffect)(function(){console.log("NewState.workerInfo",d,a_,a0),d&&bo(d.ref_earnings-d.ref_earnings_withdrawn-d.amount_processing)},[d]);var al=(ax=null==d?void 0:d.payment_details,ad=(ay=(0,x.useState)())[0],ay[1],ae=(0,x.useState)([]),af=ae[0],ae[1],ag=(0,x.useState)(),az=ag[0],aZ=ag[1],ah=(0,x.useState)(),aA=ah[0],a$=ah[1],ai=(0,A.f2)(),aB=ai.db,aC=ai.user,(0,x.useEffect)(function(){},[ax]),(0,x.useEffect)(function(){aZ(!1),a$(null)},[aB,aC]),{refWithdrawals:ad?[ad].concat(function(a){if(Array.isArray(a))return(0,O.Z)(a)}(aj=af)||(0,P.Z)(aj)||(0,Q.Z)(aj)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):af,refWithdrawalsPending:az,refWithdrawalsError:aA}),a1=al.refWithdrawals,aF=al.refWithdrawalsPending,a2=al.refWithdrawalsError;(0,x.useEffect)(function(){console.log("NewState.refWithdrawals",a1,aF,a2)},[aF]);var am=(0,R.ZP)(),aG=am.classWithdrawals,a3=am.classWithdrawalsPending,a4=am.classWithdrawalsError,aH=(0,x.useState)(0),an=aH[0],bp=aH[1],aI=(0,x.useState)(0),e=aI[0],bq=aI[1],aJ=(0,x.useState)(),br=(aJ[0],aJ[1]);(0,x.useEffect)(function(){if(console.log("NewState.classWithdrawals",aG,a3,a4),!a3&&!a4&&aX&&aG.length>0){var a,b,c=0,d=0;aG.forEach(function(b){b.data().potBalanceTarget<aX&&[s.R$.pending,s.R$.failed].includes(b.data().payment_status)?c+=b.data().salary:b.data().payment_status==s.R$.pending&&(a=b.data(),d++)}),a&&br((0,g.Z)((0,f.Z)({},a),{wage_per_job:null===(b=s.Nb[a.activation_price])|| void 0===b?void 0:b.earningPerPhoto})),bp(c),bq(d),console.log("NewState.classWithdrawals.activeBlocks",c,"pending:",d,"lastWithdrawal",a)}},[aG,aX]),(0,x.useEffect)(function(){console.log("NewState.classWithdrawals.count",an)},[an]);var a5=function(){bg(""),bf(!0),be(Y())},bs=function(a){bm?(bm(),a5()):console.log("User.onJobDone: call back not returned")},aK=(0,x.useState)(),a6=aK[0],bt=aK[1],aL=(0,x.useState)(),aM=aL[0],bu=aL[1],aN=(0,x.useState)(),aO=aN[0],bv=aN[1],aP=(0,x.useState)(),a7=aP[0],bw=aP[1],bx=function(b,c,d,e,a,g){if(a||(a=aU.accessToken),!b){t().fire({icon:"info",text:"You currently have no earnings available for withdrawal."}),e();return}K().post(c,d,{headers:{authorization:"Bearer ".concat(a)}}).then(function(a){console.log("requestPayment.result.rez",a),t().fire((0,f.Z)({},J(a.data))),e()}).catch(function(a){console.log("requestPayment.result.error",a),t().fire({icon:"error",text:a.message}),e()})};return(0,x.useEffect)(function(){bb||aU?aU&&(bd(!1),aW?console.log("User.withdraw.requestPayment.UZER:",aU):be(Y())):a9.replace("/sign-in")},[aU]),(0,i.jsxs)(o.Z,{link:"/",title:s.jG,description:s.kr,image:null,updatedTime:null,loading:aV,children:[(0,i.jsxs)(p.Z,{bg:"url(/assets/images/banner/bg.png)",_before:{pos:"absolute",content:"''",w:"100%",h:"100%",left:0,right:0,top:0,bg:(0,k.ff)("navbarBg.light","navbarBg.dark"),opacity:.9},p:{base:"20px 0 25px",md:"25px 0 25px"},children:[(0,i.jsx)(n.Z,{zIndex:"1",children:(0,i.jsxs)(q.Z,{children:[(0,i.jsxs)(q.Z.First,{mdWith:"40%",children:[(0,i.jsx)(V,{isLoading:aa,animColor:aQ}),(0,i.jsx)(W,{error:ab,onReload:a5}),(0,i.jsx)(X,{isNew:0==e,show:0==e&&c>=s.y2||e>0&&c>=s.Ik}),(0,i.jsxs)(j.gC,{display:0==e&&c>=s.y2||e>0&&c>=s.Ik||aa||!(0,E.N4)(ab)?"none":"block",children:[(0,i.jsx)(m.Ee,{src:aW,width:"100%",height:"auto",borderRadius:"15px",minH:"200px",onLoad:function(){console.log("Load.ok"),bf(!1)},onError:function(a){console.log("Load.error",a),bf(!1),bg("Failed to load photo. Please try again.")}}),(0,i.jsxs)(j.xv,{as:"div",my:"0.5rem",textAlign:"center",fontSize:"12px",children:["Does this photo contain a ",(0,i.jsx)("b",{children:"male"})," or a ",(0,i.jsx)("b",{children:"female"}),"?"]}),(0,i.jsxs)(j.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",display:aa||!(0,E.N4)(ab)?"none":"flex",children:[(0,i.jsx)(r.Z,{onClick:function(){return bs("male")},children:"Male"}),(0,i.jsx)(r.Z,{onClick:function(){return bs("female")},children:"Female"})]})]})]}),(0,i.jsx)(q.Z.Second,{mb:{base:"25px",md:"0px"},mdWith:"60%",children:(0,i.jsxs)(j.gC,{w:"100%",alignItems:"flex-start",children:[(0,i.jsx)(B.Z,{name:"Total Classifications",value:w.Z.format(c,{minFD:0,maxFD:0}),mb:"0.2rem"}),(0,i.jsx)(B.Z,{name:"Classification Earnings",value:"".concat(s.t$).concat(w.Z.format(aw,{minFD:2,maxFD:2})),mb:"2rem !important",msg:an>0?"".concat(an," NGN is now available. Withdraw now."):null,children:(0,i.jsx)(r.Z,{onClick:function(){aO||(bt(!1),a8())},disabled:aO,children:aO?"Please wait...":"Withdraw to bank"})}),(0,i.jsx)(B.Z,{name:"Total referrals",value:w.Z.format(d.total_referrals,{minFD:0,maxFD:0}),mb:"0.2rem"}),(0,i.jsx)(B.Z,{name:"Referral Earnings",value:"".concat(s.t$).concat(w.Z.format(aE,{minFD:2,maxFD:2})),mb:"0.2rem",children:(0,i.jsx)(r.Z,{onClick:function(){aM||(bt(!0),a8())},disabled:aM,children:aM?"Please wait...":"Withdraw to bank"})}),(0,i.jsx)(r.Z,{variant:"outline",display:"none",children:(0,i.jsxs)(j.Ug,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)("i",{className:"fa fa-bank"}),(0,i.jsx)(j.xv,{as:"div",children:"Withdraw Earnings"})]})})]})})]})}),(0,i.jsx)(j.xu,{overflow:"hidden !important",w:"100%",h:"100%",left:"0",right:"0",bottom:"-3",children:(0,i.jsx)(j.xu,{pos:"absolute",bottom:"3px",w:"100%",children:(0,i.jsx)(v.Z,{alignSelf:"center",flexShrink:"0",colorLight:"#08060B",colorDark:"#08060B"})})})]}),(0,i.jsxs)(p.Z,{bg:"#08060B",mt:"-5px",children:[(0,i.jsx)(j.xu,{overflow:"hidden",pos:"absolute",w:"100%",h:"100%",right:"0px",top:"0px",children:(0,i.jsx)(j.xu,{pos:"absolute",d:"flex",w:"100%",top:"0px",fill:"#D8CBED",children:(0,i.jsx)(z.Z,{w:"150%",h:"100%",maxH:"48px",alignSelf:"center",flexShrink:"0",fill:"rgb(8, 6, 11)"})})}),(0,i.jsx)(n.Z,{children:a_||a0?null:(0,i.jsxs)(j.xu,{w:"100%",maxW:"600px",borderRadius:"7px",border:"1px solid #fff",color:"#999",p:"0.5rem 1rem",minH:{base:"70px"},mb:"0.5rem",fontWeight:"bold",children:[(0,i.jsxs)(j.xv,{as:"div",fontSize:"14px",mb:"0.2rem",children:[(0,i.jsx)("span",{children:"Your Refferral link is:"})," ",(0,i.jsx)(U.Z,{as:"b",fontWeight:"900",color:aR,type:U.Z.Types.refLink,children:"".concat(s.Le,"/?r=").concat((0,T.o)(d.ref_id))})]}),(0,i.jsx)(j.xv,{as:"div",fontSize:"14px",mb:"0.2rem",children:"Tell your friends about Feyitech and share your link with them on social platforms and instant messaging apps like whatsapp."}),(0,i.jsx)(j.xv,{as:"div",fontSize:"14px",children:"For every set of photos they activate, you get 10% worth of the activation fee as your referral earnings."})]})})]}),(0,i.jsxs)(p.Z,{bg:"#08060B",mt:"-5px",children:[(0,i.jsx)(j.xu,{overflow:"hidden",pos:"absolute",w:"100%",h:"100%",right:"0px",top:"0px",children:(0,i.jsx)(j.xu,{pos:"absolute",d:"flex",w:"100%",top:"0px",fill:"#D8CBED",children:(0,i.jsx)(z.Z,{w:"150%",h:"100%",maxH:"48px",alignSelf:"center",flexShrink:"0",fill:"rgb(8, 6, 11)"})})}),(0,i.jsx)(n.Z,{children:(0,i.jsx)(S.Z,{paymentBlocks:aG,paymentBlocksError:a4,paymentBlocksLoading:a3,refWithdrawals:a1,refWithdrawalsPending:aF,refWithdrawalsError:a2,onRetryClassPay:function(a,b){bt(!1),a8()},onRetryRefPay:function(a,b){bt(!0),a8()}})})]}),(0,i.jsx)(H.Z,{msg:at,isOpen:!(0,E.N4)(at),onClose:function(){return bh(null)},allowOutsideClick:!0}),(0,i.jsx)(F.Z,{isOpen:aS,onClose:aT,canWithdraw:a7,balance:a6?aE:aw,onSubmit:function(b){a6?(d="".concat(I,"?type=1"),e=function(){bu(!0)},f=function(){bu(!1),bj(null)},g=aE>0):(d="".concat(I,"?type=0"),e=function(){bv(!0)},f=function(){bv(!1),bl(null)},g=an>0),bw(g),console.log("User.withdraw.requestPayment.url",d,b);var i,j,d,e,f,g,h=new Date,a=new Date;a.setTime(aU.metadata.lastLoginAt);var c=h.getTime()-a.getTime();console.log("User.withdraw.requestPayment.b4",aU.uid,c,G.hz,a.toUTCString(),aU.accessToken),c>G.hz?t().fire({title:"To be sure it's you, please enter your password.",text:"Password",html:'<input type="password" id="password" class="swal2-input" placeholder="Password">',confirmButtonText:"Continue",focusConfirm:!1,preConfirm:function(){var a=t().getPopup().querySelector("#password").value;return a||t().showValidationMessage("Please enter your password"),{password:a}}}).then(function(a){var c;(null==a?void 0:null===(c=a.value)|| void 0===c?void 0:c.password)&&(e(),ba.emailPassIn(aU.email,a.value.password).then(function(a){var c;(null==a?void 0:a.user)&&bc(a.user),bx(g,d,b,f,null==a?void 0:null===(c=a.user)|| void 0===c?void 0:c.accessToken,null==a?void 0:a.user)}).catch(function(a){var b;b="auth/wrong-password"==a.code?"Wrong email address or password. Check your email address and password, then try again.":"auth/user-not-found"==a.code?"Wrong email address or password. Check your email address and password, then try again.":(0,A.jB)(a),console.log("User.withdraw.emailPassUp",a),t().fire({icon:"error",text:b}),f()}))}):(e(),bx(g,d,b,f))},testStatus:G.G$.success,testStatusCallbackMinutes:1})]})}}},function(a){a.O(0,[571,76,431,387,669,892,910,885,358,774,888,179],function(){var b;return a(a.s=2296)}),_N_E=a.O()}])