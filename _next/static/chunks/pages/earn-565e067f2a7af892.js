(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{9338:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn",function(){return c(3319)}])},3319:function(d,b,a){"use strict";a.r(b),a.d(b,{default:function(){return T}});var e=a(1799),f=a(9396),g=a(828),h=a(5893),i=a(8527),j=a(949),k=a(7375),l=a(4651),m=a(7962),n=a(7290),o=a(4672),p=a(28),q=a(2344),r=a(1961),c=a(6455),s=a.n(c),t=a(7911),u=a(8364),v=a(3897),w=a(7294),x=a(1163),y=a(6502),z=a(3363),A=a(3077),B=a(8375),C=a(4312),D=a(4045);a(3598),a(5452);var E=a(5304);a(9669);var F=a(3861),G=a(1302),H=a(614),I=a(5321),J=a(2035),K=a(7233),L=a(316),M=a(7281),N=a(8934),O=a(8938),P=function(a){var b=a.isLoading,c=a.animColor;return(0,h.jsxs)(i.gC,{width:"100%",h:"200px",borderRadius:"15px",border:"1px solid #fff",justifyContent:"center",alignItems:"center",display:b?"flex":"none",children:[(0,h.jsx)(i.xv,{as:"div",fontStyle:"italic",fontSize:"14px",children:"Loading next photo..."}),(0,h.jsx)(B.Z,{style:{display:"inline !important"},width:"50px",height:"50px",color:c,type:B.Z.TYPES.grid})]})},Q=function(a){var b=a.error,c=a.onReload;return(0,h.jsxs)(i.gC,{width:"100%",h:"auto",borderRadius:"15px",border:"1px solid #fff",p:"15px",justifyContent:"center",alignItems:"center",display:(0,D.N4)(b)?"none":"flex",children:[(0,h.jsx)(i.xv,{as:"div",fontSize:"14px",children:b}),(0,h.jsx)(q.Z,{onClick:c,children:"Reload"})]})},R=function(a){var b,d=a.show,e=a.isNew,c=(0,j.ff)("linkHover.light","linkHover.dark");return b=e?'You haven\'t activated any photo yet. Click the "Activate" button to get photos to classify.':(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.xu,{mb:"0.2rem",children:'No photos left to classify. Activate another set of photos to continue classification. Click the "Activate Photos" button to get photos to classify.'}),(0,h.jsx)(i.xu,{color:c,mb:"0.2rem",children:(0,h.jsx)("b",{children:"Note 1: Your photos classifications earnings withdrawal requests may take between 2 days to 3 weeks before being sent to your bank account."})}),(0,h.jsx)(i.xu,{color:c,children:(0,h.jsx)("b",{children:"Note 2: Your referral earnings withdrawal requests will be sent to your bank account within 24 hours."})})]}),(0,h.jsxs)(i.gC,{width:"100%",h:"auto",borderRadius:"15px",border:"1px solid #fff",p:"15px",justifyContent:"center",alignItems:"center",display:d?"flex":"none",children:[(0,h.jsx)(i.xv,{as:"div",fontSize:"16px",textAlign:"center",children:b}),(0,h.jsx)(q.Z,{as:t.Z,href:"/photos",children:"Activate Photos"})]})},S=function(){return"https://thispersondoesnotexist.com/image?rand=".concat(Math.random())};function T(){var T,U,V,W,aF=(0,j.ff)(null===C.Z|| void 0===C.Z?void 0:null===(T=C.Z.colors)|| void 0===T?void 0:null===(U=T.colorAccent)|| void 0===U?void 0:U.light,null===C.Z|| void 0===C.Z?void 0:null===(V=C.Z.colors)|| void 0===V?void 0:null===(W=V.colorAccent)|| void 0===W?void 0:W.dark),aG=(0,j.ff)("linkHover.light","linkHover.dark"),X=(0,k.qY)(),aH=X.isOpen,aY=X.onClose,aZ=X.onOpen,a$=(0,x.useRouter)(),b=(0,z.f2)(),t=(b.db,b.user),a_=(b.auth,b.authLoading);b.setUser;var ah=(0,w.useState)(!0),aI=ah[0],a0=ah[1],ai=(0,w.useState)(""),aJ=ai[0],a1=ai[1],aj=(0,w.useState)(!1),Y=aj[0],a2=aj[1],ak=(0,w.useState)(""),Z=ak[0],a3=ak[1],al=(0,w.useState)(),am=al[0],a4=al[1],c=(0,g.Z)((0,F.Z)(2),5),d=c[0],an=c[1],a5=c[2];c[3],c[4];var $=(0,G.Z)(),aK=$.potBalance,aL=$.potBalancePending,a6=$.potBalanceError;(0,w.useEffect)(function(){console.log("NewState.potBalance",aK,aL,a6)},[aL]);var aM,ao,ap,aN,_,aq,aO,aa,ar,aP,ab,as,at,au=(0,w.useState)(),av=au[0],a7=au[1],ac=(0,H.Z)(),a=ac.workerInfo,aQ=ac.workerInfoPending,aR=ac.workerInfoError;(0,w.useEffect)(function(){console.log("NewState.workerInfo",a,aQ,aR),a&&a7(a.ref_earnings-a.ref_earnings_withdrawn-a.amount_processing)},[a]);var ad=(aM=(null==a?void 0:a.ref_id)||"",ap=(ao=(0,w.useState)([]))[0],aN=ao[1],_=(0,w.useState)(),aq=_[0],aO=_[1],aa=(0,w.useState)(),ar=aa[0],aP=aa[1],ab=(0,z.f2)(),as=ab.db,at=ab.user,(0,w.useEffect)(function(){if(as&&at)return aO(!0),function(b,c,a,e,f,d){return console.log("Check.Payer:",a.uid),(0,I.cf)((0,I.IO)((0,I.hJ)(c.service,"processed_payments"),(0,I.ar)("uplines","array-contains-any",[a.uid,b]),(0,I.Xo)("sent_payment_time_milli","desc"),(0,I.b9)(50)),function(a){console.log("Check.Payer:data",null==a?void 0:a.docs),f(null==a?void 0:a.docs)},d)}(aM,as,at,50,function(a){a&&aN(a),aO(!1),aP(null),console.log("Check.Payer:ddd",a)},function(a){aP((0,z.jB)(a)),aO(!1),console.log("Check.Payer:error",a)})},[as,at]),{refActivations:ap,refActivationsPending:aq,refActivationsError:ar}),aS=ad.refActivations,aw=ad.refActivationsPending,aT=ad.refActivationsError;(0,w.useEffect)(function(){console.log("NewState.refActivations",aS,aw,aT)},[aw]);var ae=(0,J.ZP)(),ax=ae.classWithdrawals,aU=ae.classWithdrawalsPending,aV=ae.classWithdrawalsError,ay=(0,w.useState)(0),af=ay[0],a8=ay[1],az=(0,w.useState)(0),a9=(az[0],az[1]),aA=(0,w.useState)(),ba=(aA[0],aA[1]);(0,w.useEffect)(function(){if(console.log("NewState.classWithdrawals",ax,aU,aV),!aU&&!aV&&aK&&ax.length>0){var a,b,c=0,d=0;ax.forEach(function(b){b.data().potBalanceTarget<aK&&[r.R$.pending,r.R$.failed].includes(b.data().payment_status)?c+=b.data().salary:b.data().payment_status==r.R$.pending&&(a=b.data(),d++)}),a&&ba((0,f.Z)((0,e.Z)({},a),{wage_per_job:null===(b=r.Nb[a.activation_price])|| void 0===b?void 0:b.earningPerPhoto})),a8(c),a9(d),console.log("NewState.classWithdrawals.activeBlocks",c,"pending:",d,"lastWithdrawal",a)}},[ax,aK]),(0,w.useEffect)(function(){console.log("NewState.classWithdrawals.count",af)},[af]);var aW=function(){a3(""),a2(!0),a1(S())},bb=function(a){a5?(a5(),aW()):console.log("User.onJobDone: call back not returned")},aB=(0,w.useState)(),ag=aB[0],bc=aB[1],aC=(0,w.useState)(),aD=aC[0],bd=aC[1],aE=(0,w.useState)(),aX=aE[0],be=aE[1];(0,w.useEffect)(function(){a_||t?t&&(a0(!1),aJ?console.log("User.withdraw.requestPayment.UZER:",t):a1(S())):a$.replace("/sign-in")},[t]);var B,bf=function(){(null==a?void 0:a.bankName)&&d>=r.Ik?(be(!0),bd(!0),aZ()):(null==a?void 0:a.bankName)?(null==a?void 0:a.bankName)||s().fire({icon:"info",text:"Please classify all 100 photos before requesting payment"}):s().fire({icon:"info",text:"You can only withdraw a minimum of 1000 NGN"})},bg=function(){be(av>0),bc(!0),aZ()};return(0,h.jsxs)(n.Z,{link:"/",title:r.jG,description:r.kr,image:null,updatedTime:null,loading:aI,children:[(0,h.jsxs)(o.Z,{bg:"url(/assets/images/banner/bg.png)",_before:{pos:"absolute",content:"''",w:"100%",h:"100%",left:0,right:0,top:0,bg:(0,j.ff)("navbarBg.light","navbarBg.dark"),opacity:.9},p:{base:"20px 0 25px",md:"25px 0 25px"},children:[(0,h.jsxs)(m.Z,{zIndex:"1",children:[(0,h.jsxs)(O.Z,{mb:"0.2rem",children:["Welcome, ",(B=t,console.log("User:",B),null==B?void 0:B.displayName)," - ",null==t?void 0:t.email]}),(0,h.jsxs)(p.Z,{children:[(0,h.jsxs)(p.Z.First,{mdWith:"40%",children:[(0,h.jsx)(P,{isLoading:Y,animColor:aF}),(0,h.jsx)(Q,{error:Z,onReload:aW}),(0,h.jsx)(R,{isNew:!(null==a?void 0:a.bankName),show:!(null==a?void 0:a.bankName)&&d>=r.y2||(null==a?void 0:a.bankName)&&d>=r.Ik}),(0,h.jsxs)(i.gC,{display:!(null==a?void 0:a.bankName)&&d>=r.y2||(null==a?void 0:a.bankName)&&d>=r.Ik||Y||!(0,D.N4)(Z)?"none":"block",children:[(0,h.jsx)(l.Ee,{src:aJ,width:"100%",height:"auto",borderRadius:"15px",minH:"200px",onLoad:function(){console.log("Load.ok"),a2(!1)},onError:function(a){console.log("Load.error",a),a2(!1),a3("Failed to load photo. Please try again.")}}),(0,h.jsxs)(i.xv,{as:"div",my:"0.5rem",textAlign:"center",fontSize:"12px",children:["Does this photo contain a ",(0,h.jsx)("b",{children:"male"})," or a ",(0,h.jsx)("b",{children:"female"}),"?"]}),(0,h.jsxs)(i.Ug,{justifyContent:"space-between",alignItems:"center",width:"100%",display:Y||!(0,D.N4)(Z)?"none":"flex",children:[(0,h.jsx)(q.Z,{onClick:function(){return bb("male")},children:"Male"}),(0,h.jsx)(q.Z,{onClick:function(){return bb("female")},children:"Female"})]})]})]}),(0,h.jsx)(p.Z.Second,{mb:{base:"25px",md:"0px"},mdWith:"60%",children:(0,h.jsxs)(i.gC,{w:"100%",alignItems:"flex-start",children:[(0,h.jsx)(A.Z,{name:"Total Classifications",value:v.Z.format(d,{minFD:0,maxFD:0}),mb:"0.2rem"}),(0,h.jsx)(A.Z,{name:"Classification Earnings",value:"".concat(r.t$).concat(v.Z.format(an,{minFD:2,maxFD:2})),mb:"2rem !important",msg:af>0?"".concat(af," NGN is now available. Withdraw now."):null,children:(0,h.jsx)(q.Z,{onClick:function(){aD||bf()},disabled:aD,children:aD?"Please wait...":"Withdraw to bank"})}),(0,h.jsx)(A.Z,{name:"Total referrals",value:v.Z.format(a.total_referrals,{minFD:0,maxFD:0}),mb:"0.2rem"}),(0,h.jsx)(A.Z,{name:"Referral Earnings",value:"".concat(r.t$).concat(v.Z.format(av,{minFD:2,maxFD:2})),mb:"0.2rem",children:(0,h.jsx)(q.Z,{onClick:function(){ag||bg()},disabled:ag,children:ag?"Please wait...":"Withdraw to bank"})}),(0,h.jsx)(q.Z,{variant:"outline",display:"none",children:(0,h.jsxs)(i.Ug,{justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)("i",{className:"fa fa-bank"}),(0,h.jsx)(i.xv,{as:"div",children:"Withdraw Earnings"})]})})]})})]})]}),(0,h.jsx)(i.xu,{overflow:"hidden !important",w:"100%",h:"100%",left:"0",right:"0",bottom:"-3",children:(0,h.jsx)(i.xu,{pos:"absolute",bottom:"3px",w:"100%",children:(0,h.jsx)(u.Z,{alignSelf:"center",flexShrink:"0",colorLight:"#08060B",colorDark:"#08060B"})})})]}),(0,h.jsxs)(o.Z,{bg:"#08060B",mt:"-5px",children:[(0,h.jsx)(i.xu,{overflow:"hidden",pos:"absolute",w:"100%",h:"100%",right:"0px",top:"0px",children:(0,h.jsx)(i.xu,{pos:"absolute",d:"flex",w:"100%",top:"0px",fill:"#D8CBED",children:(0,h.jsx)(y.Z,{w:"150%",h:"100%",maxH:"48px",alignSelf:"center",flexShrink:"0",fill:"rgb(8, 6, 11)"})})}),(0,h.jsx)(m.Z,{children:aQ||aR?null:(0,h.jsx)(i.xu,{w:"100%",maxW:"600px",borderRadius:"7px",border:"1px solid #fff",color:"#999",p:"0.5rem 1rem",minH:{base:"70px"},mb:"0.5rem",fontWeight:"bold",children:a.ref_id?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.xv,{as:"div",fontSize:"14px",mb:"0.2rem",children:[(0,h.jsx)("span",{children:"Your Refferral link is:"})," ",(0,h.jsx)(M.Z,{as:"b",fontWeight:"900",color:aG,type:M.Z.Types.refLink,children:"".concat(r.Le,"/?r=").concat((0,L.o)(a.ref_id))})]}),(0,h.jsx)(i.xv,{as:"div",fontSize:"14px",mb:"0.2rem",children:"Tell your friends about TugOfCash and share your link with them on social platforms and instant messaging apps like whatsapp."}),(0,h.jsx)(i.xv,{as:"div",fontSize:"14px",children:"For every set of photos they activate, you get 10% worth of their activation fee as your referral bonus. Note that you don't have to refer to earn. You will always earn from the photo classifications you do, even without referring any single person."})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.xv,{fontWeight:"600",children:"Your referral link will be available here after your first photo activation."}),(0,h.jsxs)(i.xv,{fontWeight:"600",children:[(0,h.jsx)(i.xv,{fontWeight:"bold !important",children:"Note:"})," Referring people is not required to earn. But you can earn more by referring."]})]})})})]}),(0,h.jsxs)(o.Z,{bg:"#08060B",mt:"-5px",children:[(0,h.jsx)(i.xu,{overflow:"hidden",pos:"absolute",w:"100%",h:"100%",right:"0px",top:"0px",children:(0,h.jsx)(i.xu,{pos:"absolute",d:"flex",w:"100%",top:"0px",fill:"#D8CBED",children:(0,h.jsx)(y.Z,{w:"150%",h:"100%",maxH:"48px",alignSelf:"center",flexShrink:"0",fill:"rgb(8, 6, 11)"})})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(K.Z,{paymentBlocks:ax,paymentBlocksError:aV,paymentBlocksLoading:aU,refActivations:aS,refActivationsPending:aw,refActivationsError:aT,onRetryClassPay:function(){},onRetryRefPay:function(){}})})]}),(0,h.jsx)(E.Z,{msg:am,isOpen:!(0,D.N4)(am),onClose:function(){return a4(null)},allowOutsideClick:!0}),(0,h.jsx)(N.Z,{isOpen:aH,onClose:function(){aY(),bc(!1),bd(!1)},amount:ag?av:an,bankName:a.bankName,accountName:a.accountName,accountNumber:a.accountNumber,canWithdraw:aX})]})}}},function(a){a.O(0,[571,76,431,387,669,892,910,885,358,934,774,888,179],function(){var b;return a(a.s=9338)}),_N_E=a.O()}])